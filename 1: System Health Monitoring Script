import psutil
import logging

# Set thresholds
CPU_THRESHOLD = 80
MEMORY_THRESHOLD = 80
DISK_THRESHOLD = 80
PROCESS_THRESHOLD = 100

# Set up logging
logging.basicConfig(level=logging.INFO)

def monitor_system_health():
    try:
        # Get system metrics
        cpu_usage = psutil.cpu_percent(interval=1)
        memory_usage = psutil.virtual_memory().percent
        disk_usage = psutil.disk_usage('/').percent
        running_processes = len(psutil.pids())

        # Check if any metric exceeds threshold
        if cpu_usage > CPU_THRESHOLD:
            logging.warning(f'CPU usage exceeds threshold: {cpu_usage}%')

        if memory_usage > MEMORY_THRESHOLD:
            logging.warning(f'Memory usage exceeds threshold: {memory_usage}%')

        if disk_usage > DISK_THRESHOLD:
            logging.warning(f'Disk usage exceeds threshold: {disk_usage}%')

        if running_processes > PROCESS_THRESHOLD:
            logging.warning(f'Running processes exceed threshold: {running_processes}')

    except Exception as e:
        logging.error(f'Failed to monitor system health: {str(e)}')

if __name__ == '__main__':
    monitor_system_health()

SAVING 
